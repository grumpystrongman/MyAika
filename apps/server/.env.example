OPENAI_API_KEY=your_key_here
PORT=8787
OPENAI_MODEL=gpt-4o-mini
OPENAI_TRANSCRIBE_MODEL=whisper-1
TRANSCRIPT_WPS=2.5

# Voice (GPT-SoVITS only)
TTS_ENGINE=piper
PIPER_DEFAULT_VOICE=en_GB-semaine-medium

# MCP-lite (HIPAA-first)
PHI_MODE=true
ALLOWED_OUTBOUND_DOMAINS=
TOOL_ALLOWLIST_BY_MODE_NORMAL=
TOOL_ALLOWLIST_BY_MODE_PHI=
# Memory vault key is stored in ./secrets/memory_vault.key (auto-generated on first use)
ENCRYPTION_KEY=change_me_32bytes_hex_or_passphrase
MEMORY_SQLITE_PATH=apps/server/data/aika_memory.sqlite
TOOLS_PANIC_SWITCH=0
AUDIT_LOG_PATH=./data/audit.log
RATE_LIMIT_PER_MIN=60
RECORDING_RETENTION_DAYS=30
AIKA_BASE_URL=http://localhost:8790
PUBLIC_BASE_URL=http://localhost:8790
ADMIN_APPROVAL_TOKEN=
REMOTE_APPROVAL_TOKEN=
GPTSOVITS_URL=http://localhost:9882/tts
GPTSOVITS_REPO_PATH=
GPTSOVITS_PORT=9882
GPTSOVITS_PYTHON_BIN=
GPTSOVITS_CONFIG=apps/server/gptsovits_tts_infer_v3.yaml
GPTSOVITS_TEXT_LANG=en
GPTSOVITS_PROMPT_LANG=en
GPTSOVITS_DEFAULT_PROMPT_TEXT=Aika is a confident, playful, feminine assistant with a warm, witty tone.
GPTSOVITS_TEXT_SPLIT_METHOD=cut5
GPTSOVITS_FAST_SPLIT_METHOD=cut5
GPTSOVITS_SAMPLE_STEPS=32
GPTSOVITS_FAST_SAMPLE_STEPS=16
GPTSOVITS_PARALLEL_INFER=1
GPTSOVITS_TOP_K=5
GPTSOVITS_TOP_P=1
GPTSOVITS_TEMPERATURE=1
GPTSOVITS_STREAMING_MODE=0
GPTSOVITS_MIN_CHUNK_LENGTH=20
GPTSOVITS_OVERLAP_LENGTH=2
GPTSOVITS_REPETITION_PENALTY=1.35

# Piper (optional, multi-voice)
PIPER_BIN=
PIPER_PYTHON_BIN=
PIPER_VOICES_DIR=apps/server/piper_voices
PIPER_DEFAULT_VOICE=

# Optional voice behavior
TTS_MAX_CHARS=600
TTS_VOICES_DIR=./apps/server/voices

# Integrations (set when ready)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback
GOOGLE_REDIRECT_URI_LOCAL=http://localhost:3000/api/auth/google/callback
GOOGLE_REDIRECT_URIS=http://localhost:3000/api/auth/google/callback,http://localhost:8790/api/integrations/google/callback,https://your-cloudflare.trycloudflare.com/api/auth/google/callback,https://your-cloudflare.trycloudflare.com/api/integrations/google/callback
GMAIL_SYNC_INTERVAL_MINUTES=0
GMAIL_SYNC_ON_STARTUP=0
GMAIL_SYNC_LIMIT=50
GMAIL_LOOKBACK_DAYS=14
GMAIL_LABEL_IDS=
GMAIL_SYNC_QUERY=
EMAIL_FROM_NAME=Aika Meeting Copilot
EMAIL_OUTBOX_FALLBACK=0
EMAIL_RULES_ENABLED=0
EMAIL_RULES_ON_STARTUP=0
EMAIL_RULES_INTERVAL_MINUTES=0
EMAIL_RULES_LOOKBACK_DAYS=7
EMAIL_RULES_LIMIT=40
EMAIL_RULES_FOLLOWUP_DAYS=2
EMAIL_RULES_FOLLOWUP_HOURS=0
EMAIL_RULES_REMINDER_OFFSET_HOURS=4
EMAIL_RULES_DEDUP_HOURS=72
EMAIL_RULES_MAX_PROCESSED=400
EMAIL_RULES_PRIORITY=medium
EMAIL_RULES_LIST_ID=
EMAIL_RULES_TAGS=follow-up,priority
EMAIL_RULES_GMAIL_SENDERS=
EMAIL_RULES_GMAIL_LABEL_IDS=
EMAIL_RULES_OUTLOOK_SENDERS=
EMAIL_RULES_OUTLOOK_FOLDER_IDS=
TODO_REMINDER_ENABLED=0
TODO_REMINDER_ON_STARTUP=0
TODO_REMINDER_INTERVAL_MINUTES=5
TODO_REMINDER_MAX_PER_RUN=25
TODO_REMINDER_CHANNELS=in_app
TODO_REMINDER_SLACK_CHANNELS=
TODO_REMINDER_TELEGRAM_CHAT_IDS=
TODO_REMINDER_EMAIL_TO=
NOTION_TOKEN=
NOTION_DATABASE_IDS=
NOTION_PAGE_IDS=
NOTION_SEARCH_QUERY=
NOTION_SYNC_INTERVAL_MINUTES=0
NOTION_SYNC_ON_STARTUP=0
NOTION_SYNC_LIMIT=50
NOTION_LOOKBACK_DAYS=30
OUTLOOK_ACCESS_TOKEN=
MICROSOFT_ACCESS_TOKEN=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_TENANT_ID=common
MICROSOFT_AUTHORITY_HOST=https://login.microsoftonline.com
MICROSOFT_GRAPH_BASE=https://graph.microsoft.com/v1.0
MICROSOFT_REDIRECT_URI=http://localhost:8790/api/integrations/microsoft/callback
MICROSOFT_REDIRECT_URI_LOCAL=http://localhost:8790/api/integrations/microsoft/callback
MICROSOFT_REDIRECT_URIS=http://localhost:8790/api/integrations/microsoft/callback,http://localhost:3000/api/auth/microsoft/callback,https://your-cloudflare.trycloudflare.com/api/auth/microsoft/callback
MICROSOFT_PROMPT=consent
MICROSOFT_DOMAIN_HINT=
MICROSOFT_LOGIN_HINT=
MICROSOFT_ALLOWED_TENANTS=
MICROSOFT_ALLOWED_DOMAINS=
MICROSOFT_REQUIRE_TENANT_MATCH=0
OUTLOOK_SYNC_INTERVAL_MINUTES=0
OUTLOOK_SYNC_ON_STARTUP=0
OUTLOOK_SYNC_LIMIT=50
OUTLOOK_LOOKBACK_DAYS=14
OUTLOOK_FOLDER_IDS=
OUTLOOK_SYNC_EVENTS=0
JIRA_BASE_URL=
JIRA_EMAIL=
JIRA_API_TOKEN=
JIRA_PROJECTS=
JIRA_JQL=
JIRA_SYNC_INTERVAL_MINUTES=0
JIRA_SYNC_ON_STARTUP=0
JIRA_SYNC_LIMIT=50
JIRA_LOOKBACK_DAYS=30
CONFLUENCE_BASE_URL=
CONFLUENCE_EMAIL=
CONFLUENCE_API_TOKEN=
CONFLUENCE_SPACE_KEYS=
CONFLUENCE_CQL=
CONFLUENCE_SYNC_INTERVAL_MINUTES=0
CONFLUENCE_SYNC_ON_STARTUP=0
CONFLUENCE_SYNC_LIMIT=40
CONFLUENCE_LOOKBACK_DAYS=90
CONNECTOR_MAX_DOC_CHARS=60000
CONNECTOR_DEDUP_LOOKBACK_HOURS=720
CONNECTOR_SIMHASH_DISTANCE=3
CONNECTOR_FRESHNESS_HALFLIFE_HOURS=720

# Daily trading picks email
TRADING_DAILY_EMAIL_ENABLED=0
TRADING_DAILY_EMAIL_TIME=08:00
TRADING_DAILY_EMAIL_RECIPIENTS=jeff.barnes@inova.org,cmajeff@gmail.com
TRADING_DAILY_EMAIL_SUBJECT_PREFIX=Aika Daily Picks
TRADING_DAILY_EMAIL_MIN_PICKS=10
TRADING_DAILY_EMAIL_MAX_PICKS=15
TRADING_DAILY_EMAIL_STOCK_COUNT=8
TRADING_DAILY_EMAIL_CRYPTO_COUNT=4
TRADING_DAILY_STOCKS=SPY,QQQ,AAPL,MSFT,NVDA,AMZN,GOOGL,META,TSLA,JPM,V,UNH,XOM,COST,AMD
TRADING_DAILY_CRYPTOS=BTC-USD,ETH-USD,SOL-USD,ADA-USD,XRP-USD,AVAX-USD,LINK-USD
TRADING_RAG_SOURCES=
TRADING_RAG_SYNC_INTERVAL_MINUTES=1440
TRADING_RAG_SYNC_ON_STARTUP=0
TRADING_RAG_MAX_DOC_CHARS=50000
TRADING_RAG_FETCH_TIMEOUT_MS=15000
TRADING_RAG_MAX_BYTES=2000000
TRADING_RAG_PDF_MAX_BYTES=15000000
TRADING_RAG_CRAWL_DEPTH=1
TRADING_RAG_CRAWL_MAX_PAGES=120
TRADING_RAG_CRAWL_MAX_PAGES_PER_DOMAIN=30
TRADING_RAG_CRAWL_DELAY_MS=800
TRADING_RAG_CRAWL_RESPECT_ROBOTS=1
TRADING_RAG_CRAWL_INTERVAL_MINUTES=1440
TRADING_RAG_CRAWL_ON_STARTUP=0
TRADING_RAG_CRAWL_USE_SITEMAP=1
TRADING_RAG_SITEMAP_MAX_URLS=300
TRADING_RAG_OCR_DEFAULT=1
TRADING_RAG_OCR_MAX_PAGES=0
TRADING_RAG_OCR_SCALE=2.0
TRADING_RAG_DEDUP_LOOKBACK_HOURS=720
TRADING_RAG_SIMHASH_DISTANCE=3
TRADING_RAG_FRESHNESS_HALFLIFE_HOURS=720
TRADING_RAG_EVERGREEN_HALFLIFE_HOURS=8760
TRADING_RAG_HEALTH_INTERVAL_MINUTES=360
TRADING_RAG_HEALTH_REVIEW_INTERVAL_HOURS=24
TRADING_RAG_HEALTH_BATCH_SIZE=400
TRADING_RAG_STALE_THRESHOLD=0.35
TRADING_RAG_EXPIRE_THRESHOLD=0.12
TRADING_RAG_HEALTH_RUN_ON_STARTUP=0
TRADING_RAG_HEALTH_REFRESH_ON_STALE=0
TRADING_RAG_HEALTH_REFRESH_STALE_RATIO=0.45
TRADING_RAG_HEALTH_REFRESH_MIN_AGE_HOURS=72
TRADING_RAG_HEALTH_REFRESH_MAX_SOURCES=6
TRADING_RAG_HEALTH_TASK_ENABLED=0
TRADING_RAG_HEALTH_TASK_TIME_OF_DAY=09:00
TRADING_RAG_HEALTH_TASK_TIMEZONE=
TRADING_RAG_HEALTH_TASK_OWNER=local
TRADING_RSS_SYNC_INTERVAL_MINUTES=1440
TRADING_RSS_SYNC_ON_STARTUP=0
TRADING_RSS_MAX_ITEMS_PER_FEED=25
TRADING_RSS_REQUIRE_AI=0
TRADING_RSS_OCR_DEFAULT=1
TRADING_RSS_OCR_MAX_PAGES=0
TRADING_RSS_OCR_SCALE=2.0
TRADING_RSS_MAX_ARTICLE_CHARS=25000
# Signals ingestion
SIGNALS_CONFIG_PATH=
SIGNALS_INGEST_TIME=06:15
SIGNALS_TIMEZONE=America/New_York
SIGNALS_INGEST_ON_STARTUP=0
SIGNALS_SIMHASH_DISTANCE=3
SIGNALS_DEDUP_LOOKBACK_HOURS=96
SIGNALS_MAX_RECENT_DEDUP=1500
NASA_FIRMS_MAP_KEY=
YOUTUBE_API_KEY=
TRADING_YOUTUBE_SOURCES=@claytrader
TRADING_YOUTUBE_SYNC_INTERVAL_MINUTES=10080
TRADING_YOUTUBE_SYNC_ON_STARTUP=0
TRADING_YOUTUBE_DISCOVER_ON_STARTUP=0
TRADING_YOUTUBE_DISCOVER_INTERVAL_MINUTES=10080
TRADING_YOUTUBE_SEARCH_QUERIES=
TRADING_YOUTUBE_MAX_CHANNELS=100
TRADING_YOUTUBE_MIN_SUBSCRIBERS=25000
TRADING_YOUTUBE_MIN_SCORE=2
TRADING_YOUTUBE_MAX_VIDEOS_PER_CHANNEL=0
TRADING_YOUTUBE_MAX_NEW_VIDEOS_PER_CHANNEL=40
TRADING_YOUTUBE_TRANSCRIPT_MAX_CHARS=120000
TRADING_YOUTUBE_DESCRIPTION_MAX_CHARS=4000
TRADING_YOUTUBE_FETCH_TIMEOUT_MS=15000
TRADING_YOUTUBE_CRAWL_LINKS=1
TRADING_YOUTUBE_LINK_MAX_PER_VIDEO=6
TRADING_YOUTUBE_LINK_RECRAWL_DAYS=30
TRADING_YOUTUBE_LINK_CRAWL_DEPTH=1
TRADING_YOUTUBE_LINK_CRAWL_MAX_PAGES=30
TRADING_YOUTUBE_LINK_CRAWL_MAX_PAGES_PER_DOMAIN=20
TRADING_YOUTUBE_LINK_CRAWL_DELAY_MS=600
TRADING_YOUTUBE_LINK_BLOCKLIST=
TRADING_MARKET_DATA_FETCH_TIMEOUT_MS=15000
TRADING_RECOMMENDATION_WINDOW_DAYS=180
TRADING_RECOMMENDATIONS_KNOWLEDGE_TIMEOUT_MS=8000
TRADING_RECOMMENDATIONS_LLM_TIMEOUT_MS=20000
TRADING_RECOMMENDATIONS_SIGNAL_TIMEOUT_MS=20000
TRADING_RECOMMENDATIONS_STORE_HISTORY=1
TRADING_MONITOR_ENABLED=1
TRADING_MONITOR_INTERVAL_MINUTES=360
TRADING_MONITOR_TOP_N=8
TRADING_MONITOR_MIN_SIGNAL_SCORE=1.2
TRADING_MONITOR_ALERT_COOLDOWN_HOURS=12

# Alpaca market data (for real-time stock streaming)
ALPACA_DATA_KEY=
ALPACA_DATA_SECRET=
ALPACA_DATA_FEED=iex
COINBASE_CLIENT_ID=
COINBASE_CLIENT_SECRET=
COINBASE_REDIRECT_URI=http://localhost:8790/api/integrations/coinbase/callback
COINBASE_SCOPES=wallet:accounts:read wallet:transactions:read
COINBASE_ACCESS_TOKEN=
ROBINHOOD_ACCESS_TOKEN=
WEB_UI_URL=http://localhost:3000
FIREFLIES_API_KEY=
# Fireflies RAG (local)
RAG_EMBEDDINGS_PROVIDER=local
RAG_LOCAL_EMBEDDING_MODEL=Xenova/all-MiniLM-L6-v2
RAG_SQLITE_PATH=apps/server/data/aika_rag.sqlite
RAG_TOP_K=8
RAG_CHUNK_MIN_CHARS=700
RAG_CHUNK_MAX_CHARS=1200
RAG_CHUNK_OVERLAP_RATIO=0.18
RAG_HYBRID_ENABLED=1
RAG_HYBRID_ALPHA=0.65
RAG_HYBRID_RRF_K=60
RAG_LEXICAL_TOP_K=24
RAG_FTS_REBUILD_ON_STARTUP=1
RAG_FTS_BATCH_SIZE=500
META_RAG_ENABLED=0
META_RAG_REFRESH_INTERVAL_MINUTES=720
META_RAG_REFRESH_ON_STARTUP=0
META_RAG_TOP_K=4
META_RAG_AUTO_CREATE_ENABLED=0
META_RAG_AUTO_CREATE_MIN_SOURCES=3
META_RAG_AUTO_CREATE_MAX_SOURCES=8
META_RAG_AUTO_CREATE_QUERY_COUNT=3
ASSISTANT_PROPOSAL_APPLY_ENABLED=0
ASSISTANT_PROPOSAL_APPLY_INTERVAL_MINUTES=10
ASSISTANT_PROPOSAL_OWNER=local
RAG_BACKUP_DRIVE_PATH=Aika/RAG Backups
RAG_BACKUP_INCLUDE_WAL=1
RAG_BACKUP_INCLUDE_HNSW=1
RAG_BACKUP_OWNER=local
FIREFLIES_SYNC_INTERVAL_MINUTES=15

# Desktop Runner
DESKTOP_RUNNER_MAX_ACTIONS=40
# Desktop Recorder
DESKTOP_RECORD_STOP_KEY=F8
DESKTOP_RECORD_SAMPLE_MS=30
DESKTOP_RECORD_MAX_SECONDS=180
DESKTOP_RECORD_INCLUDE_MOUSE_MOVES=0
DESKTOP_RECORD_MERGE_WINDOW_MS=450
DESKTOP_RECORD_MAX_WAIT_MS=30000
DESKTOP_RECORD_MAX_ACTIONS=140
FIREFLIES_SYNC_ON_STARTUP=0
FIREFLIES_SYNC_LIMIT=50
FIREFLIES_SYNC_THROTTLE_MS=1000
FIREFLIES_AUTO_EMAIL=0
FIREFLIES_EMAIL_TO=
FIREFLIES_EMAIL_SUBJECT_PREFIX=Fireflies Meeting Notes
FIREFLIES_NOTIFY_CHANNELS=
RECORDING_NOTIFY_CHANNELS=
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
INSTAGRAM_APP_ID=
INSTAGRAM_APP_SECRET=
WHATSAPP_APP_ID=
WHATSAPP_APP_SECRET=
WHATSAPP_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_TO=
TELEGRAM_CHAT_ID=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_SMS_FROM=
TWILIO_SMS_TO=
TWILIO_WHATSAPP_FROM=
TWILIO_WHATSAPP_TO=
SMS_MAX_CHARS=1200
TELEGRAM_BOT_TOKEN=
TELEGRAM_WEBHOOK_SECRET=
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
SLACK_REDIRECT_URI=http://localhost:8790/api/integrations/slack/callback
SLACK_SCOPES=chat:write,channels:read,users:read
SLACK_BOT_TOKEN=
SLACK_SYNC_INTERVAL_MINUTES=0
SLACK_SYNC_ON_STARTUP=0
SLACK_SYNC_LIMIT=40
SLACK_SYNC_MAX_MESSAGES=200
SLACK_SYNC_LOOKBACK_DAYS=7
SLACK_CHANNELS=
SLACK_CHANNEL_TYPES=public_channel,private_channel
SLACK_SIGNING_SECRET=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_REDIRECT_URI=http://localhost:8790/api/integrations/discord/callback
DISCORD_SCOPES=identify
DISCORD_BOT_TOKEN=
DISCORD_WEBHOOK_URL=
PLEX_URL=http://localhost:32400
PLEX_TOKEN=
AMAZON_ACCESS_KEY=
AMAZON_SECRET_KEY=
AMAZON_PARTNER_TAG=
AMAZON_CART_DOMAIN=www.amazon.com
WALMART_CLIENT_ID=
WALMART_CLIENT_SECRET=
WALMART_REDIRECT_URI=http://localhost:8790/api/integrations/walmart/callback
SKILLS_WEBHOOK_ALLOWLIST=
DEFAULT_WEATHER_LOCATION=Seattle, WA

# Action Runner
ACTION_RUNNER_MAX_ACTIONS=60
ACTION_RUNNER_MIN_INTERVAL_MS=3000

# Skill Vault
SKILL_VAULT_ENABLE_UNSAFE=0
VIRUSTOTAL_API_KEY=

OPENAI_MAX_OUTPUT_TOKENS=220
OPENAI_FALLBACK_MODEL=gpt-4o-mini
THREAD_HISTORY_MAX_MESSAGES=14

# Assistant Tasks
ASSISTANT_TASK_POLL_MS=60000
ASSISTANT_TASK_RUN_ON_STARTUP=0
ASSISTANT_TASK_EMAIL_TO=
ASSISTANT_TASK_EMAIL_SUBJECT_PREFIX=Aika Task
ASSISTANT_TASK_TELEGRAM_CHAT_ID=
ASSISTANT_OPS_TASKS_ENABLED=0
ASSISTANT_OPS_OWNER=local
ASSISTANT_OPS_BOOTSTRAP_INTERVAL_MINUTES=360
ASSISTANT_OPS_CODE_REVIEW_ENABLED=1
ASSISTANT_OPS_CODE_REVIEW_INTERVAL_MINUTES=10080
ASSISTANT_OPS_CODE_REVIEW_TIME_OF_DAY=
ASSISTANT_OPS_CODE_REVIEW_TIMEZONE=
ASSISTANT_OPS_PROPOSAL_SUMMARY_ENABLED=1
ASSISTANT_OPS_PROPOSAL_SUMMARY_INTERVAL_MINUTES=0
ASSISTANT_OPS_PROPOSAL_SUMMARY_TIME_OF_DAY=09:00
ASSISTANT_OPS_PROPOSAL_SUMMARY_TIMEZONE=

# Agent model routing
AGENT_MULTI_PASS=0
AGENT_PLANNER_PREFER_LOCAL=0
AGENT_CRITIC_PREFER_LOCAL=0
AGENT_CRITIC_FORCE_CLOUD=0
MODEL_ROUTER_MODE=auto
LOCAL_LLM_BASE_URL=
LOCAL_LLM_API_KEY=
LOCAL_LLM_MODEL=

# Memory retention
MEMORY_RETENTION_DAYS_TIER1=
MEMORY_RETENTION_DAYS_TIER2=
MEMORY_RETENTION_DAYS_TIER3=
MEMORY_RETENTION_INTERVAL_MS=21600000
MEMORY_RETENTION_RUN_ON_STARTUP=0

# Worker queue
WORKER_EXECUTION_MODE=inline
WORKER_ID=
WORKER_POLL_INTERVAL_MS=5000
WORKER_STALE_RESET_MS=1800000
